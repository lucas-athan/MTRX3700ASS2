#! /c/Source/iverilog-install/bin/vvp
:ivl_version "12.0 (devel)" "(s20150603-1110-g18392a46)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "C:\iverilog\lib\ivl\system.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_sys.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_textio.vpi";
:vpi_module "C:\iverilog\lib\ivl\v2005_math.vpi";
:vpi_module "C:\iverilog\lib\ivl\va_math.vpi";
:vpi_module "C:\iverilog\lib\ivl\v2009.vpi";
S_000002455101ca30 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_000002455101bf70 .scope module, "tb_adsr_filter" "tb_adsr_filter" 3 3;
 .timescale -9 -12;
P_0000024550f78620 .param/l "BITS" 1 3 7, +C4<00000000000000000000000000001000>;
P_0000024550f78658 .param/l "CLK_PERIOD" 1 3 6, +C4<00000000000000000000000000010100>;
v00000245510770f0_0 .var "BPM_estimate", 7 0;
v00000245510777d0_0 .net "bpm_brightness_gain", 7 0, L_0000024551077370;  1 drivers
v0000024551077730_0 .net "bpm_brightness_mult", 23 0, L_0000024551076010;  1 drivers
v0000024551076b50_0 .net "brightness_gain", 7 0, v000002455101fae0_0;  1 drivers
v0000024551076c90_0 .var "clk", 0 0;
v0000024551076e70_0 .net "env_brightness_gain", 7 0, L_00000245510e1820;  1 drivers
v0000024551076830_0 .var "filter_enable", 0 0;
v0000024551075d90_0 .var "filter_mode", 0 0;
v00000245510765b0_0 .var/2s "max_cycles", 31 0;
v0000024551076790_0 .net "module_ready", 0 0, L_00000245510189e0;  1 drivers
v0000024551077550_0 .var "output_ready", 0 0;
v0000024551077190_0 .var "pix_in", 7 0;
v0000024551076150_0 .net "pix_out", 7 0, v0000024551008850_0;  1 drivers
v0000024551077870_0 .var/2s "pixel_counter", 31 0;
v0000024551076ab0_0 .var "pixel_x", 9 0;
v0000024551076970_0 .var "pixel_y", 8 0;
v0000024551076f10_0 .var "pulse_amplitude", 7 0;
v00000245510766f0_0 .var "reset", 0 0;
v0000024551077690_0 .var/2s "tick_count", 31 0;
v00000245510761f0_0 .var "valid_in", 0 0;
v00000245510768d0_0 .net "valid_out", 0 0, L_0000024551018ba0;  1 drivers
S_0000024550fd8650 .scope begin, "$ivl_for_loop0" "$ivl_for_loop0" 3 105, 3 105 0, S_000002455101bf70;
 .timescale -9 -12;
v000002455101efa0_0 .var/2s "i", 31 0;
E_0000024551015140 .event posedge, v000002455101fb80_0;
S_0000024550fd87e0 .scope module, "dut" "adsr_filter" 3 29, 4 1 0, S_000002455101bf70;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "reset";
    .port_info 2 /INPUT 8 "pix_in";
    .port_info 3 /INPUT 1 "valid_in";
    .port_info 4 /INPUT 1 "output_ready";
    .port_info 5 /OUTPUT 1 "module_ready";
    .port_info 6 /OUTPUT 8 "pix_out";
    .port_info 7 /OUTPUT 1 "valid_out";
    .port_info 8 /INPUT 10 "pixel_x";
    .port_info 9 /INPUT 9 "pixel_y";
    .port_info 10 /INPUT 1 "filter_enable";
    .port_info 11 /INPUT 1 "filter_mode";
    .port_info 12 /INPUT 8 "BPM_estimate";
    .port_info 13 /INPUT 8 "pulse_amplitude";
    .port_info 14 /OUTPUT 8 "bpm_brightness_gain";
    .port_info 15 /OUTPUT 8 "env_brightness_gain";
    .port_info 16 /OUTPUT 24 "bpm_brightness_mult";
    .port_info 17 /OUTPUT 8 "brightness_gain";
P_0000024551021ae0 .param/l "ATTACK" 0 4 2, +C4<00000000000000000000000000000010>;
P_0000024551021b18 .param/l "BITS" 0 4 8, +C4<00000000000000000000000000001000>;
P_0000024551021b50 .param/l "DECAY" 0 4 3, +C4<00000000000000000000000000000010>;
P_0000024551021b88 .param/l "IMAGE_HEIGHT" 0 4 10, +C4<00000000000000000000000111100000>;
P_0000024551021bc0 .param/l "IMAGE_WIDTH" 0 4 9, +C4<00000000000000000000001010000000>;
P_0000024551021bf8 .param/l "MAX_BPM" 0 4 7, +C4<00000000000000000000000011001000>;
P_0000024551021c30 .param/l "MIN_BPM" 0 4 6, +C4<00000000000000000000000000101000>;
P_0000024551021c68 .param/l "RELEASE" 0 4 5, +C4<00000000000000000000000000000010>;
P_0000024551021ca0 .param/l "STEP_SIZE" 0 4 11, +C4<00000000000000000000000101000111>;
P_0000024551021cd8 .param/l "SUSTAIN" 0 4 4, +C4<00000000000000000000000000000010>;
P_0000024551021d10 .param/l "TICK_DIV" 1 4 118, +C4<00000000000000110000110101000000>;
enum0000024550ff88d0 .enum4 (3)
   "S_IDLE" 3'b000,
   "S_ATTACK" 3'b001,
   "S_DECAY" 3'b010,
   "S_SUSTAIN" 3'b011,
   "S_RELEASE" 3'b100
 ;
L_00000245510189e0 .functor BUFZ 1, v0000024551077550_0, C4<0>, C4<0>, C4<0>;
L_0000024551018a50 .functor AND 1, L_00000245510189e0, v00000245510761f0_0, C4<1>, C4<1>;
L_0000024551018ba0 .functor AND 1, L_0000024551018a50, v0000024551076830_0, C4<1>, C4<1>;
v000002455101e280_0 .net "BPM_estimate", 7 0, v00000245510770f0_0;  1 drivers
L_0000024551088098 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v000002455101e460_0 .net *"_ivl_10", 0 0, L_0000024551088098;  1 drivers
v000002455101f400_0 .net *"_ivl_12", 31 0, L_00000245510774b0;  1 drivers
L_00000245510880e0 .functor BUFT 1, C4<000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v000002455101e320_0 .net *"_ivl_15", 23 0, L_00000245510880e0;  1 drivers
v000002455101e960_0 .net *"_ivl_16", 31 0, L_0000024551076bf0;  1 drivers
L_0000024551088128 .functor BUFT 1, C4<000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v000002455101e8c0_0 .net *"_ivl_19", 23 0, L_0000024551088128;  1 drivers
v000002455101f540_0 .net *"_ivl_22", 31 0, L_00000245510760b0;  1 drivers
L_0000024551088170 .functor BUFT 1, C4<000000000000000000000000>, C4<0>, C4<0>, C4<0>;
v000002455101e500_0 .net *"_ivl_25", 23 0, L_0000024551088170;  1 drivers
L_00000245510881b8 .functor BUFT 1, C4<00000000000000000000000101000111>, C4<0>, C4<0>, C4<0>;
v000002455101ee60_0 .net/2u *"_ivl_26", 31 0, L_00000245510881b8;  1 drivers
v000002455101f180_0 .net *"_ivl_29", 31 0, L_0000024551077230;  1 drivers
v000002455101ea00_0 .net *"_ivl_3", 0 0, L_0000024551018a50;  1 drivers
v000002455101f680_0 .net *"_ivl_30", 31 0, L_0000024551076330;  1 drivers
v000002455101f5e0_0 .net *"_ivl_32", 23 0, L_0000024551077050;  1 drivers
L_0000024551088200 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v000002455101e5a0_0 .net *"_ivl_34", 7 0, L_0000024551088200;  1 drivers
v000002455101e3c0_0 .net *"_ivl_38", 31 0, L_0000024551077910;  1 drivers
L_0000024551088248 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v000002455101f9a0_0 .net *"_ivl_41", 7 0, L_0000024551088248;  1 drivers
L_0000024551088290 .functor BUFT 1, C4<00000000000000000000000011111111>, C4<0>, C4<0>, C4<0>;
v000002455101f4a0_0 .net/2u *"_ivl_42", 31 0, L_0000024551088290;  1 drivers
v000002455101fa40_0 .net *"_ivl_44", 0 0, L_0000024551075a70;  1 drivers
L_00000245510882d8 .functor BUFT 1, C4<11111111>, C4<0>, C4<0>, C4<0>;
v000002455101ec80_0 .net/2u *"_ivl_46", 7 0, L_00000245510882d8;  1 drivers
v000002455101fea0_0 .net *"_ivl_49", 7 0, L_00000245510772d0;  1 drivers
v000002455101fc20_0 .net *"_ivl_52", 15 0, L_00000245510763d0;  1 drivers
L_0000024551088320 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v000002455101e640_0 .net *"_ivl_55", 7 0, L_0000024551088320;  1 drivers
v000002455101eaa0_0 .net *"_ivl_57", 15 0, L_0000024551077410;  1 drivers
v000002455101f720_0 .net *"_ivl_58", 15 0, L_0000024551075bb0;  1 drivers
v000002455101f7c0_0 .net *"_ivl_60", 7 0, L_0000024551075b10;  1 drivers
L_0000024551088368 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v000002455101f860_0 .net *"_ivl_62", 7 0, L_0000024551088368;  1 drivers
v000002455101fcc0_0 .net *"_ivl_8", 6 0, L_0000024551075e30;  1 drivers
v000002455101e6e0_0 .var "adsr_counter", 15 0;
v000002455101e780_0 .net "bpm_brightness_gain", 7 0, L_0000024551077370;  alias, 1 drivers
v000002455101f2c0_0 .net "bpm_brightness_mult", 23 0, L_0000024551076010;  alias, 1 drivers
v000002455101fae0_0 .var "brightness_gain", 7 0;
v000002455101eb40_0 .var "brightness_gain_temp", 7 0;
v000002455101fb80_0 .net "clk", 0 0, v0000024551076c90_0;  1 drivers
v000002455101ffe0_0 .var "cx", 9 0;
v000002455101e820_0 .var "cy", 8 0;
v000002455101f220_0 .var "decay_target", 7 0;
v0000024551020080_0 .var "diff", 31 0;
v000002455101f360_0 .var "dist_sq", 31 0;
v000002455101ebe0_0 .var/s "dx", 15 0;
v000002455101fd60_0 .var/s "dy", 15 0;
v000002455101f040_0 .net "env_brightness_gain", 7 0, L_00000245510e1820;  alias, 1 drivers
v000002455101ed20_0 .var "env_gain", 15 0;
v000002455101fe00_0 .net "filter_enable", 0 0, v0000024551076830_0;  1 drivers
v000002455101edc0_0 .net "filter_mode", 0 0, v0000024551075d90_0;  1 drivers
v000002455101ff40_0 .net "module_ready", 0 0, L_00000245510189e0;  alias, 1 drivers
v000002455101e1e0_0 .var "next_state", 2 0;
v000002455101ef00_0 .net "output_ready", 0 0, v0000024551077550_0;  1 drivers
v0000024551008b70_0 .var "pix_bright_addition", 8 0;
v0000024551007d10_0 .net "pix_in", 7 0, v0000024551077190_0;  1 drivers
v0000024551008850_0 .var "pix_out", 7 0;
v0000024551007db0_0 .net "pixel_x", 9 0, v0000024551076ab0_0;  1 drivers
v0000024551008490_0 .net "pixel_y", 8 0, v0000024551076970_0;  1 drivers
v0000024551076470_0 .net "pulse_amplitude", 7 0, v0000024551076f10_0;  1 drivers
v0000024551076d30_0 .net "radius", 7 0, L_0000024551076a10;  1 drivers
v0000024551076650_0 .net "radius_sq", 31 0, L_0000024551076fb0;  1 drivers
v0000024551075ed0_0 .net "reset", 0 0, v00000245510766f0_0;  1 drivers
v0000024551076dd0_0 .var "state", 2 0;
v0000024551075cf0_0 .var "temp_pix_out", 7 0;
v0000024551076510_0 .var "tick_4ms", 0 0;
v0000024551076290_0 .var "tick_cnt", 17 0;
v0000024551075f70_0 .net "valid_in", 0 0, v00000245510761f0_0;  1 drivers
v00000245510775f0_0 .net "valid_out", 0 0, L_0000024551018ba0;  alias, 1 drivers
E_0000024551015440 .event anyedge, v0000024551076dd0_0, v0000024551075f70_0, v000002455101fe00_0, v000002455101e6e0_0;
E_0000024551014940 .event posedge, v0000024551075ed0_0, v000002455101fb80_0;
E_0000024551014b40 .event anyedge, v0000024551075f70_0, v000002455101fe00_0, v000002455101eb40_0, v0000024551007d10_0;
E_0000024551014bc0 .event anyedge, v0000024551007db0_0, v000002455101ffe0_0, v0000024551008490_0, v000002455101e820_0;
L_0000024551075e30 .part v0000024551076f10_0, 1, 7;
L_0000024551076a10 .concat [ 7 1 0 0], L_0000024551075e30, L_0000024551088098;
L_00000245510774b0 .concat [ 8 24 0 0], L_0000024551076a10, L_00000245510880e0;
L_0000024551076bf0 .concat [ 8 24 0 0], L_0000024551076a10, L_0000024551088128;
L_0000024551076fb0 .arith/mult 32, L_00000245510774b0, L_0000024551076bf0;
L_00000245510760b0 .concat [ 8 24 0 0], v00000245510770f0_0, L_0000024551088170;
L_0000024551077230 .arith/mult 32, L_00000245510760b0, L_00000245510881b8;
L_0000024551077050 .part L_0000024551077230, 8, 24;
L_0000024551076330 .concat [ 24 8 0 0], L_0000024551077050, L_0000024551088200;
L_0000024551076010 .part L_0000024551076330, 0, 24;
L_0000024551077910 .concat [ 24 8 0 0], L_0000024551076010, L_0000024551088248;
L_0000024551075a70 .cmp/gt 32, L_0000024551077910, L_0000024551088290;
L_00000245510772d0 .part L_0000024551076010, 0, 8;
L_0000024551077370 .functor MUXZ 8, L_00000245510772d0, L_00000245510882d8, L_0000024551075a70, C4<>;
L_00000245510763d0 .concat [ 8 8 0 0], L_0000024551077370, L_0000024551088320;
L_0000024551077410 .arith/mult 16, v000002455101ed20_0, L_00000245510763d0;
L_0000024551075b10 .part L_0000024551077410, 8, 8;
L_0000024551075bb0 .concat [ 8 8 0 0], L_0000024551075b10, L_0000024551088368;
L_00000245510e1820 .part L_0000024551075bb0, 0, 8;
S_0000024551077a30 .scope task, "print_debug" "print_debug" 3 54, 3 54 0, S_000002455101bf70;
 .timescale -9 -12;
TD_tb_adsr_filter.print_debug ;
    %vpi_call/w 3 55 "$display", "\012[T=%0t ns] 4ms tick #%0d", $time, v0000024551077690_0 {0 0 0};
    %vpi_call/w 3 56 "$display", "  STATE             : %0d", v0000024551076dd0_0 {0 0 0};
    %vpi_call/w 3 57 "$display", "  ADSR env_gain     : %0d", v000002455101ed20_0 {0 0 0};
    %vpi_call/w 3 58 "$display", "  ADSR counter      : %0d", v000002455101e6e0_0 {0 0 0};
    %vpi_call/w 3 59 "$display", "  BPM estimate      : %0d", v00000245510770f0_0 {0 0 0};
    %vpi_call/w 3 60 "$display", "  Pulse amplitude   : %0d", v0000024551076f10_0 {0 0 0};
    %vpi_call/w 3 61 "$display", "  bpm_brightness_gain: %0d", v00000245510777d0_0 {0 0 0};
    %vpi_call/w 3 62 "$display", "  env_brightness_gain: %0d", v0000024551076e70_0 {0 0 0};
    %vpi_call/w 3 63 "$display", "  bpm_brightness_mult: %0d", v0000024551077730_0 {0 0 0};
    %vpi_call/w 3 64 "$display", "  pixel_x           : %0d", v0000024551076ab0_0 {0 0 0};
    %vpi_call/w 3 65 "$display", "  pixel_y           : %0d", v0000024551076970_0 {0 0 0};
    %vpi_call/w 3 66 "$display", "  pix_in            : %0d", v0000024551077190_0 {0 0 0};
    %vpi_call/w 3 67 "$display", "  pix_out           : %0d", v0000024551076150_0 {0 0 0};
    %vpi_call/w 3 68 "$display", "  brightness_gain   : %0d", v0000024551076b50_0 {0 0 0};
    %vpi_call/w 3 69 "$display", "  brightness_gain_temp: %0d", v000002455101eb40_0 {0 0 0};
    %vpi_call/w 3 70 "$display", "  diff              : %0d", v0000024551020080_0 {0 0 0};
    %vpi_call/w 3 71 "$display", "  temp_pix_out      : %0d", v0000024551075cf0_0 {0 0 0};
    %end;
    .scope S_0000024550fd87e0;
T_1 ;
    %pushi/vec4 320, 0, 10;
    %store/vec4 v000002455101ffe0_0, 0, 10;
    %pushi/vec4 240, 0, 9;
    %store/vec4 v000002455101e820_0, 0, 9;
    %end;
    .thread T_1, $init;
    .scope S_0000024550fd87e0;
T_2 ;
Ewait_0 .event/or E_0000024551014bc0, E_0x0;
    %wait Ewait_0;
    %load/vec4 v0000024551007db0_0;
    %pad/s 16;
    %load/vec4 v000002455101ffe0_0;
    %pad/s 16;
    %sub;
    %store/vec4 v000002455101ebe0_0, 0, 16;
    %load/vec4 v0000024551008490_0;
    %pad/s 16;
    %load/vec4 v000002455101e820_0;
    %pad/s 16;
    %sub;
    %store/vec4 v000002455101fd60_0, 0, 16;
    %load/vec4 v000002455101ebe0_0;
    %pad/s 32;
    %load/vec4 v000002455101ebe0_0;
    %pad/s 32;
    %mul;
    %load/vec4 v000002455101fd60_0;
    %pad/s 32;
    %load/vec4 v000002455101fd60_0;
    %pad/s 32;
    %mul;
    %add;
    %store/vec4 v000002455101f360_0, 0, 32;
    %jmp T_2;
    .thread T_2, $push;
    .scope S_0000024550fd87e0;
T_3 ;
    %wait E_0000024551015140;
    %load/vec4 v0000024551075ed0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v000002455101eb40_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0000024551075f70_0;
    %load/vec4 v000002455101fe00_0;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %load/vec4 v0000024551076650_0;
    %load/vec4 v000002455101f360_0;
    %cmp/u;
    %flag_or 5, 4;
    %jmp/0xz  T_3.4, 5;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v000002455101eb40_0, 0;
    %jmp T_3.5;
T_3.4 ;
    %load/vec4 v0000024551076650_0;
    %load/vec4 v000002455101f360_0;
    %sub;
    %assign/vec4 v0000024551020080_0, 0;
    %load/vec4 v0000024551020080_0;
    %load/vec4 v000002455101f040_0;
    %pad/u 32;
    %mul;
    %load/vec4 v0000024551076650_0;
    %div;
    %pad/u 8;
    %assign/vec4 v000002455101eb40_0, 0;
T_3.5 ;
T_3.2 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0000024550fd87e0;
T_4 ;
Ewait_1 .event/or E_0000024551014b40, E_0x0;
    %wait Ewait_1;
    %load/vec4 v0000024551075f70_0;
    %load/vec4 v000002455101fe00_0;
    %and;
    %load/vec4 v000002455101eb40_0;
    %pad/u 32;
    %pushi/vec4 0, 0, 32;
    %cmp/ne;
    %flag_get/vec4 4;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %load/vec4 v0000024551007d10_0;
    %pad/u 32;
    %load/vec4 v000002455101eb40_0;
    %pad/u 32;
    %add;
    %pushi/vec4 2, 0, 32;
    %div;
    %pad/u 9;
    %store/vec4 v0000024551008b70_0, 0, 9;
    %load/vec4 v0000024551008b70_0;
    %pad/u 8;
    %store/vec4 v0000024551075cf0_0, 0, 8;
    %jmp T_4.1;
T_4.0 ;
    %load/vec4 v0000024551007d10_0;
    %store/vec4 v0000024551075cf0_0, 0, 8;
T_4.1 ;
    %jmp T_4;
    .thread T_4, $push;
    .scope S_0000024550fd87e0;
T_5 ;
    %wait E_0000024551014940;
    %load/vec4 v0000024551075ed0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0000024551008850_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v000002455101fae0_0, 0;
    %jmp T_5.1;
T_5.0 ;
    %load/vec4 v00000245510775f0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_5.2, 8;
    %load/vec4 v0000024551075cf0_0;
    %assign/vec4 v0000024551008850_0, 0;
    %load/vec4 v000002455101eb40_0;
    %assign/vec4 v000002455101fae0_0, 0;
T_5.2 ;
T_5.1 ;
    %jmp T_5;
    .thread T_5;
    .scope S_0000024550fd87e0;
T_6 ;
    %wait E_0000024551015140;
    %load/vec4 v0000024551075ed0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 18;
    %assign/vec4 v0000024551076290_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0000024551076510_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0000024551076290_0;
    %pad/u 32;
    %cmpi/e 199999, 0, 32;
    %jmp/0xz  T_6.2, 4;
    %pushi/vec4 0, 0, 18;
    %assign/vec4 v0000024551076290_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0000024551076510_0, 0;
    %jmp T_6.3;
T_6.2 ;
    %load/vec4 v0000024551076290_0;
    %addi 1, 0, 18;
    %assign/vec4 v0000024551076290_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0000024551076510_0, 0;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0000024550fd87e0;
T_7 ;
Ewait_2 .event/or E_0000024551015440, E_0x0;
    %wait Ewait_2;
    %load/vec4 v0000024551076dd0_0;
    %store/vec4 v000002455101e1e0_0, 0, 3;
    %load/vec4 v0000024551076dd0_0;
    %dup/vec4;
    %pushi/vec4 0, 0, 3;
    %cmp/u;
    %jmp/1 T_7.0, 6;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_7.1, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_7.2, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_7.3, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_7.4, 6;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
    %jmp T_7.6;
T_7.0 ;
    %load/vec4 v0000024551075f70_0;
    %load/vec4 v000002455101fe00_0;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_7.7, 8;
    %pushi/vec4 1, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
T_7.7 ;
    %jmp T_7.6;
T_7.1 ;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_7.9, 4;
    %pushi/vec4 2, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
T_7.9 ;
    %jmp T_7.6;
T_7.2 ;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_7.11, 4;
    %pushi/vec4 3, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
T_7.11 ;
    %jmp T_7.6;
T_7.3 ;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_7.13, 4;
    %pushi/vec4 4, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
T_7.13 ;
    %jmp T_7.6;
T_7.4 ;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_7.15, 4;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v000002455101e1e0_0, 0, 3;
T_7.15 ;
    %jmp T_7.6;
T_7.6 ;
    %pop/vec4 1;
    %jmp T_7;
    .thread T_7, $push;
    .scope S_0000024550fd87e0;
T_8 ;
    %wait E_0000024551015140;
    %load/vec4 v0000024551075ed0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0000024551076dd0_0, 0;
    %jmp T_8.1;
T_8.0 ;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_8.2, 8;
    %load/vec4 v000002455101e1e0_0;
    %assign/vec4 v0000024551076dd0_0, 0;
T_8.2 ;
T_8.1 ;
    %jmp T_8;
    .thread T_8;
    .scope S_0000024550fd87e0;
T_9 ;
    %wait E_0000024551015140;
    %load/vec4 v0000024551075ed0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.0, 8;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v000002455101f220_0, 0;
    %jmp T_9.1;
T_9.0 ;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_9.2, 8;
    %load/vec4 v0000024551076dd0_0;
    %dup/vec4;
    %pushi/vec4 1, 0, 3;
    %cmp/u;
    %jmp/1 T_9.4, 6;
    %dup/vec4;
    %pushi/vec4 2, 0, 3;
    %cmp/u;
    %jmp/1 T_9.5, 6;
    %dup/vec4;
    %pushi/vec4 3, 0, 3;
    %cmp/u;
    %jmp/1 T_9.6, 6;
    %dup/vec4;
    %pushi/vec4 4, 0, 3;
    %cmp/u;
    %jmp/1 T_9.7, 6;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %jmp T_9.9;
T_9.4 ;
    %load/vec4 v000002455101e6e0_0;
    %addi 1, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %muli 255, 0, 32;
    %pushi/vec4 2, 0, 32;
    %div;
    %pad/u 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_9.10, 4;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %load/vec4 v000002455101ed20_0;
    %pad/u 32;
    %subi 2, 0, 32;
    %pad/u 8;
    %assign/vec4 v000002455101f220_0, 0;
T_9.10 ;
    %jmp T_9.9;
T_9.5 ;
    %load/vec4 v000002455101e6e0_0;
    %addi 1, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %load/vec4 v000002455101ed20_0;
    %pad/u 32;
    %load/vec4 v000002455101ed20_0;
    %pad/u 32;
    %load/vec4 v000002455101f220_0;
    %pad/u 32;
    %sub;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %mul;
    %pushi/vec4 2, 0, 32;
    %div;
    %sub;
    %pad/u 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_9.12, 4;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
T_9.12 ;
    %jmp T_9.9;
T_9.6 ;
    %load/vec4 v000002455101e6e0_0;
    %addi 1, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %load/vec4 v000002455101f220_0;
    %pad/u 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_9.14, 4;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
T_9.14 ;
    %jmp T_9.9;
T_9.7 ;
    %load/vec4 v000002455101e6e0_0;
    %addi 1, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
    %load/vec4 v000002455101ed20_0;
    %pad/u 32;
    %load/vec4 v000002455101ed20_0;
    %pad/u 32;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %mul;
    %pushi/vec4 2, 0, 32;
    %div;
    %sub;
    %pad/u 16;
    %assign/vec4 v000002455101ed20_0, 0;
    %load/vec4 v000002455101e6e0_0;
    %pad/u 32;
    %cmpi/e 2, 0, 32;
    %jmp/0xz  T_9.16, 4;
    %pushi/vec4 0, 0, 16;
    %assign/vec4 v000002455101e6e0_0, 0;
T_9.16 ;
    %jmp T_9.9;
T_9.9 ;
    %pop/vec4 1;
T_9.2 ;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_000002455101bf70;
T_10 ;
    %delay 10000, 0;
    %load/vec4 v0000024551076c90_0;
    %inv;
    %store/vec4 v0000024551076c90_0, 0, 1;
    %jmp T_10;
    .thread T_10;
    .scope S_000002455101bf70;
T_11 ;
    %vpi_call/w 3 81 "$display", "=== Starting ADSR Filter Serial Test ===" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0000024551076c90_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v00000245510766f0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v00000245510761f0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0000024551077550_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0000024551076830_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0000024551075d90_0, 0, 1;
    %pushi/vec4 100, 0, 8;
    %store/vec4 v00000245510770f0_0, 0, 8;
    %pushi/vec4 128, 0, 8;
    %store/vec4 v0000024551076f10_0, 0, 8;
    %pushi/vec4 240, 0, 9;
    %store/vec4 v0000024551076970_0, 0, 9;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0000024551077190_0, 0, 8;
    %pushi/vec4 320, 0, 10;
    %store/vec4 v0000024551076ab0_0, 0, 10;
    %delay 100000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v00000245510766f0_0, 0, 1;
    %pushi/vec4 10, 0, 32;
T_11.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_11.1, 5;
    %jmp/1 T_11.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0000024551015140;
    %jmp T_11.0;
T_11.1 ;
    %pop/vec4 1;
    %vpi_call/w 3 100 "$display", "\012--- Enable Filter and Start Envelope ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0000024551076830_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v00000245510761f0_0, 0, 1;
    %fork t_1, S_0000024550fd8650;
    %jmp t_0;
    .scope S_0000024550fd8650;
t_1 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v000002455101efa0_0, 0, 32;
T_11.2 ;
    %load/vec4 v000002455101efa0_0;
    %cmpi/s 3000, 0, 32;
    %jmp/0xz T_11.3, 5;
    %pushi/vec4 250, 0, 32;
    %load/vec4 v000002455101efa0_0;
    %pushi/vec4 50, 0, 32;
    %mod/s;
    %add;
    %pad/s 10;
    %store/vec4 v0000024551076ab0_0, 0, 10;
    %load/vec4 v000002455101efa0_0;
    %muli 7, 0, 32;
    %pushi/vec4 256, 0, 32;
    %mod/s;
    %pad/s 8;
    %store/vec4 v0000024551077190_0, 0, 8;
    %wait E_0000024551015140;
    %delay 1000, 0;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.4, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077690_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077690_0, 0, 32;
    %fork TD_tb_adsr_filter.print_debug, S_0000024551077a30;
    %join;
T_11.4 ;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v000002455101efa0_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v000002455101efa0_0, 0, 32;
    %jmp T_11.2;
T_11.3 ;
    %end;
    .scope S_000002455101bf70;
t_0 %join;
    %vpi_call/w 3 117 "$display", "\012--- PIXEL OUTPUT TEST (Serial, 60 ms, 4ms intervals) ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v00000245510761f0_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0000024551077550_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0000024551076830_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0000024551077690_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0000024551077870_0, 0, 32;
    %pushi/vec4 3000000, 0, 32;
    %store/vec4 v00000245510765b0_0, 0, 32;
    %load/vec4 v00000245510765b0_0;
T_11.6 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_11.7, 5;
    %jmp/1 T_11.7, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0000024551015140;
    %pushi/vec4 320, 0, 10;
    %store/vec4 v0000024551076ab0_0, 0, 10;
    %pushi/vec4 127, 0, 8;
    %store/vec4 v0000024551077190_0, 0, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077870_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077870_0, 0, 32;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.8, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077690_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077690_0, 0, 32;
    %vpi_call/w 3 138 "$display", "[T=%0t ns] Tick=%0d | State=%0d | env_gain=%0d | bpm_gain=%0d | env_bpm_gain=%0d | pixel_x=%0d | pix_in=%0d | pix_out=%0d | gain=%0d", $time, v0000024551077690_0, v0000024551076dd0_0, v000002455101ed20_0, v00000245510777d0_0, v0000024551076e70_0, v0000024551076ab0_0, v0000024551077190_0, v0000024551076150_0, v0000024551076b50_0 {0 0 0};
T_11.8 ;
    %jmp T_11.6;
T_11.7 ;
    %pop/vec4 1;
    %vpi_call/w 3 156 "$display", "\012--- BPM CHANGE TEST ---" {0 0 0};
    %pushi/vec4 180, 0, 8;
    %store/vec4 v00000245510770f0_0, 0, 8;
    %pushi/vec4 1000, 0, 32;
T_11.10 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_11.11, 5;
    %jmp/1 T_11.11, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0000024551015140;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.12, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077690_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077690_0, 0, 32;
    %fork TD_tb_adsr_filter.print_debug, S_0000024551077a30;
    %join;
T_11.12 ;
    %jmp T_11.10;
T_11.11 ;
    %pop/vec4 1;
    %vpi_call/w 3 167 "$display", "\012--- AMPLITUDE CHANGE TEST ---" {0 0 0};
    %pushi/vec4 255, 0, 8;
    %store/vec4 v0000024551076f10_0, 0, 8;
    %pushi/vec4 1000, 0, 32;
T_11.14 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_11.15, 5;
    %jmp/1 T_11.15, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0000024551015140;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.16, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077690_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077690_0, 0, 32;
    %fork TD_tb_adsr_filter.print_debug, S_0000024551077a30;
    %join;
T_11.16 ;
    %jmp T_11.14;
T_11.15 ;
    %pop/vec4 1;
    %vpi_call/w 3 178 "$display", "\012--- RESET TEST ---" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v00000245510766f0_0, 0, 1;
    %delay 50000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v00000245510766f0_0, 0, 1;
    %pushi/vec4 1000, 0, 32;
T_11.18 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_11.19, 5;
    %jmp/1 T_11.19, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0000024551015140;
    %load/vec4 v0000024551076510_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_11.20, 8;
    ; show_stmt_assign_vector: Get l-value for compressed += operand
    %load/vec4 v0000024551077690_0;
    %pushi/vec4 1, 0, 32;
    %add;
    %cast2;
    %store/vec4 v0000024551077690_0, 0, 32;
    %fork TD_tb_adsr_filter.print_debug, S_0000024551077a30;
    %join;
T_11.20 ;
    %jmp T_11.18;
T_11.19 ;
    %pop/vec4 1;
    %vpi_call/w 3 190 "$display", "\012=== Test Complete ===" {0 0 0};
    %vpi_call/w 3 191 "$finish" {0 0 0};
    %end;
    .thread T_11;
    .scope S_000002455101bf70;
T_12 ;
    %vpi_call/w 3 196 "$dumpfile", "adsr_filter_tb.vcd" {0 0 0};
    %vpi_call/w 3 197 "$dumpvars", 32'sb00000000000000000000000000000000, S_000002455101bf70 {0 0 0};
    %end;
    .thread T_12;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    ".\adsr_filter_tb.sv";
    ".\adsr_filter.sv";
